# 02. 目标与约束（Goals & Constraints）

## 2.1 升级目标（想得到什么）

建议将目标拆为“可衡量”的结果，便于选择方案：

- 首屏直出：内容页（小节详情）在 HTML 中可见，减少“白屏/加载中”
- SEO/可分享：每个小节有稳定的 `title/description`，爬虫能抓到正文
- 性能：更快的 TTFB/FCP（至少不劣化），并保持良好的缓存策略
- 体验：客户端继续保留 SPA 交互（章节导航、主题切换、前后小节跳转）

## 2.2 非目标（本次不做）

- 不引入登录、评论、个性化推荐等强动态业务（会显著影响 SSR/缓存策略）
- 不强制改 UI 设计与组件结构（除非为 SSR/SSG 必需）

## 2.3 关键约束：继续 GitHub Pages（只允许静态）

因此本次升级的技术路线固定为：

- **Astro SSG（静态站点生成）**
- 内容以 **Astro 原生 Markdown/MDX** 在构建期渲染为 HTML

这能满足：首屏直出、SEO、可分享链接、无需服务器运维。  
主要代价：构建时间增加（与页面数量成正比），需要把路由与内容数据模型改造为“可静态生成”。

## 2.4 本项目的“内容特性”对方案的影响

- 站点内容几乎全是 Markdown 静态内容，且路由集合可枚举（`src/data/chapters.ts`）
- 因此使用 **Astro SSG** 能以较低复杂度获得首屏直出与 SEO
- 如果未来要引入强动态能力（例如个性化、实时数据），才需要评估迁出 GitHub Pages 并引入 SSR/边缘函数
