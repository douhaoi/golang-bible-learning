# Hello, World

Go语言的入门教程很多，本书假设你已经学习过基本的Go语言教程。如果你已经熟悉C/C++或者Java，那么学习Go语言会非常轻松。Go语言的语法与C类似，但它的设计目标更加简洁，而且在很多方面更加安全和强大。

下面先让我们来写一个最简单的Hello World程序。

**文件名 gopl.io/ch1/helloworld/main.go**

```Go
package main

import "fmt"

func main() {
    fmt.Println("Hello, 世界")
}
```

Go是一门编译型语言，Go语言的工具链将源代码及其依赖转换成计算机的机器指令（译注：静态编译）。Go语言提供的工具都通过一个单独的命令`go`调用，`go`命令有一系列子命令。最简单的一个子命令就是run。这个命令编译一个或多个以`.go`结尾的源文件，链接库文件，并运行最终生成的可执行文件。（本书使用$表示命令行提示符。）

```text
$ go run helloworld.go
Hello, 世界
```

不出意外的话，运行后将打印`Hello, 世界`。

如果你想保存编译后的结果以备将来之用，可以使用build子命令：

```bash
$ go build helloworld.go
```

这个命令生成一个名为`helloworld`的可执行的二进制文件（或者在Windows下叫`helloworld.exe`，增加了`.exe`后缀名），之后你可以随时运行它，而不用再次处理源代码。

```bash
$ ./helloworld
Hello, 世界
```

本书的所有示例代码上都有一个类似`gopl.io/ch1/helloworld`的注释，这是它在我们的[GitHub代码仓库](https://github.com/adonovan/gopl.io/)中的路径，通过这个路径你可以找到相应的源代码。

如果你只是运行这些示例中的某个命令，你不必到处理GitHub将代码下载到本地。当时如果你想进行一些修改或者实验，你需要将它们保存到本地。你可以使用go get命令来执行：

```text
$ go get gopl.io/ch1/helloworld
```

这个命令可以同时更新你的环境变量。

Go语言原生支持Unicode，所以它可以处理全世界任何语言的文本。在上面的示例中，我们使用了中文Hello World。（原文中使用的是法语Bonjour le monde，按照上面的命令一步步操作，应该你可以看到法语输出。因为本书面向的是中文读者，所以我们使用的是中文Hello World）。

需要注意的是，Go语言不需要在语句或者声明的末尾添加分号，除非一行上有多条语句。实际上，编译器会主动把特定符号后的换行符转换为分号，因此换行符添加的位置会影响Go代码的正确解析（译注：比如行末是标识符、整数、浮点数、虚数、字符或字符串文字、关键字`break`、`continue`、`fallthrough`或`return`中的一个、运算符和分隔符`++`、`--`、`)`、`]`或`}`中的一个）。举个例子，函数的左括号`{`必须和`func`函数声明在同一行上，且位于末尾，不能独占一行，而在表达式`x + y`中，可在`+`后换行，不能在`+`前换行（译注：以+结尾的话不会被插入分号分隔符，但是以x结尾的话则会被分号分隔符，从而导致编译错误）。

Go语言在代码格式上采取了很强硬的态度。`gofmt`工具把代码格式化为标准格式（译注：这个格式化工具没有任何可以调整代码格式的参数，Go语言就是这样。），并且`go`工具中的`fmt`子命令会对指定包（译注：如果没有提供包名，则fmt子命令格式化当前目录的代码），甚至整个工作区中所有的源文件应用`gofmt`工具进行格式化。本书中的所有代码都被`gofmt`格式化过，你也应该养成格式化自己的代码的习惯。这样你就可以避免许多麻烦，也让你和他人的Go语言项目协作变得更加容易。

很多文本编辑器都可以配置为保存文件时自动执行`gofmt`，这样你的代码总能被保持正确的格式。还有一个相关的工具，`goimports`,可以根据代码需要，自动地添加或删除import声明。这个工具并没有被包含在标准的分发包中，你可以用下面的命令安装：

```bash
$ go get golang.org/x/tools/cmd/goimports
```

对于大多数用户，通常可以使用go语言自带的编辑器配置文件或者安装Go语言增强插件来简化开发过程。

* * *

**练习1.1：** 修改echo程序，使其能够打印`os.Args[0]`，即被执行命令本身的名字。

**练习1.2：** 修改echo程序，使其打印每个参数的索引和值，每个一行。

* * *

![](https://chai2010.cn/advanced-go-programming-book/css.png)

![](https://chai2010.cn/advanced-go-programming-book/cch.png)

